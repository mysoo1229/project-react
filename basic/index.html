
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Basic Examples</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <div id="root"></div>
</body>
<script src="https://unpkg.com/react@17.0.2/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@17.0.2/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script type="text/babel">
  const root = document.getElementById('root');

  function Time() {
    const [userValue, setValue] = React.useState(0);
    const [switched, setSwitch] = React.useState(false);

    const convertValue = (e) => setValue(e.target.value);
    const resetInput = () => setValue(0);
    const switchInput = () => setSwitch(current => !current);

    return (
      <div className="inputWrap">
        <div className="inputEach">
          <label htmlFor="minutes">Minutes</label>
          <input
            type="number"
            onChange={convertValue}
            value={switched ? userValue * 60 : userValue }
            disabled={switched ? true : false}
          />
        </div>
        <div className="inputEach">
          <label htmlFor="hous">Hours</label>
          <input
            type="number"
            onChange={convertValue}
            value={switched ? userValue : Math.round(userValue / 60 * 10) / 10 }
            disabled={switched ? false : true}
          />
        </div>
        <button className="inputControl" onClick={resetInput}>다시 입력</button>
        <button className="inputControl" onClick={switchInput}>바꾸기</button>
      </div>
    );
  }

  function Distance() {
    const [userValue, setValue] = React.useState(0);
    const [switched, setSwitch] = React.useState(false);

    const convertValue = (e) => setValue(e.target.value);
    const resetInput = () => setValue(0);
    const switchInput = () => setSwitch(current => !current);

    return (
      <div className="inputWrap">
        <div className="inputEach">
          <label htmlFor="kilometers">Km</label>
          <input
            type="number"
            onChange={convertValue}
            value={switched ? Math.round(userValue / 1.6 * 10) / 10 : userValue}
            disabled={switched ? true : false}
          />
        </div>
        <div className="inputEach">
          <label htmlFor="miles">Miles</label>
          <input
            type="number"
            onChange={convertValue}
            value={switched ? userValue : Math.round(userValue * 1.6 * 10) / 10}
            disabled={switched ? false : true}
          />
        </div>
        <button className="inputControl" onClick={resetInput}>다시 입력</button>
        <button className="inputControl" onClick={switchInput}>바꾸기</button>
      </div>
    );
  }

  function App() {
    const [unitType, setUnitType] = React.useState("0");
    const changeUnit = (e) => setUnitType(e.target.value);

    return (
      <div className="container">
        <section className="unitConverter">
          <h3>단위 변환기</h3>
          <select value={unitType} onChange={changeUnit}>
            <option value="0">시간</option>
            <option value="1">거리</option>
          </select>
          {unitType === "0" ? <Time /> : <Distance />}
        </section>
      </div>
    );
  }

  ReactDOM.render(<App />, root);
</script>
</html>
